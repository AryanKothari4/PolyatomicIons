<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Polyatomic Ions Quiz</title>
    <!-- Link to the external CSS file -->
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div class="quiz-container" id="selection-container">
        <!-- ADD THIS HELP BUTTON -->
        <button type="button" class="help-button" id="help-button">?</button>

        <h1>Polyatomic Ions Quiz</h1>
        <p class="setup-description">Select your study sets, charge mode, and quiz mode.</p>
        <form id="start-quiz-form">
            
            <fieldset class="study-set-selector">
                <legend>Choose Study Sets</legend>
                <div class="study-set-options">
                    <label><input type="checkbox" name="study-set" value="Oxidation State 1⁻"> Oxidation State 1⁻</label>
                    <label><input type="checkbox" name="study-set" value="Oxidation State 2⁻"> Oxidation State 2⁻</label>
                    <label><input type="checkbox" name="study-set" value="Oxidation State 3⁻"> Oxidation State 3⁻</label>
                    <label><input type="checkbox" name="study-set" value="Oxidation State 1⁺"> Oxidation State 1⁺</label>
                    <label><input type="checkbox" name="study-set" value="Organic (Alkanes)"> Alkanes</label>
                    <label class="select-all"><input type="checkbox" id="select-all-checkbox"> Select All</label>
                </div>
            </fieldset>

            <fieldset class="quiz-mode-selector">
                <legend>Quiz with Oxidation States?</legend>
                <div class="quiz-mode-options">
                    <label><input type="radio" name="charge-mode" value="with-charge" checked> Yes</label>
                    <label><input type="radio" name="charge-mode" value="without-charge"> No</label>
                </div>
                <p class="fieldset-note">If "Yes", answer with formula and charge (e.g., <strong>SO₄ 2-</strong>)</p>
            </fieldset>

            <fieldset class="quiz-mode-selector">
                <legend>Quiz Mode</legend>
                <div class="quiz-mode-options">
                    <label><input type="radio" name="quiz-direction" value="name-to-formula"> Name → Formula</label>
                    <label><input type="radio" name="quiz-direction" value="formula-to-name"> Formula → Name</label>
                    <label><input type="radio" name="quiz-direction" value="random" checked> Random</label>
                </div>
            </fieldset>

            <button type="submit" id="start-quiz-button" disabled>Start Quiz</button>
        </form>
    </div>

    <div class="quiz-container" id="quiz-box">
        <h1>Polyatomic Ions Quiz</h1>
        <p id="progress-counter"></p>
        <div id="question-area">
            <p id="question-prompt"></p>
            <h2 id="question-item"></h2>
        </div>
        <form id="answer-form">
            <div class="input-group">
                <input type="text" id="answer-input" placeholder="Type your answer..." autocomplete="off" autofocus>
                <button type="button" id="hint-button">Hint</button>
                <button type="submit" id="check-button">Check</button>
            </div>
        </form>
        <div id="feedback-message"></div>
        <p id="continue-prompt">Press Enter or click Continue</p>
    </div>

    <div class="quiz-container" id="completion-screen">
        <h2>Quiz Complete!</h2>
        <p id="final-score"></p>
        <div id="review-section" style="display: none;">
            <h3>Items to Review:</h3>
            <ul id="wrong-answers-list"></ul>
        </div>
        <button id="restart-button">Quiz Again</button>
    </div>

    <!-- ADD THIS MODAL STRUCTURE -->
    <div class="modal-overlay" id="help-modal-overlay"></div>
    <div class="modal" id="help-modal">
        <button class="close-button" id="close-help-modal">&times;</button>
        <h3>How to Use the Quiz</h3>
        <p>This is a tool to help you memorize polyatomic ions and alkanes. Here's how to get started:</p>
        <ul>
            <li><strong>Choose Study Sets:</strong> Check the boxes for the categories you want to be quizzed on. You can select multiple, or use the "Select All" option.</li>
            <li><strong>Quiz with Oxidation States?:</strong> 
                <br>If you select <strong>"Yes"</strong>, you must enter both the formula and its charge, separated by a space (e.g., `SO₄ 2-` or `NH₄ +`).
                <br>If you select <strong>"No"</strong>, you only need to enter the formula (e.g., `SO₄`). Alkanes are unaffected by this setting.</li>
            <li><strong>Quiz Mode:</strong>
                <br><strong>Name → Formula:</strong> You are given the name and must type the formula.
                <br><strong>Formula → Name:</strong> You are given the formula and must type the name.
                <br><strong>Random:</strong> The mode switches randomly for each question.</li>
        </ul>
        <p>After your quiz, you'll have the option to review only the questions you got wrong for targeted practice!</p>
    </div>

    <!-- Link to the external JavaScript file -->
    <script src="script.js" defer></script>
</body>
</html>